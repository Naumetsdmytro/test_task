{"version":3,"file":"static/js/980.fbdd9b92.chunk.js","mappings":"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","sources":["components/services/fetchUsersData.js","components/services/storage.js","webpack://test_task/./src/components/TweetsListItem/TweetsListItem.module.css?06bb","components/TweetsListItem/TweetsListItem.jsx","webpack://test_task/./src/components/TweetsList/TweetsList.module.css?2ae8","components/TweetsList/TweetsList.jsx","webpack://test_task/./src/components/ButtonLoadMore/ButtonLoadMore.module.css?65fe","components/ButtonLoadMore/ButtonLoadMore.jsx","webpack://test_task/./src/components/Loader/Loader.module.css?d03f","components/Loader/Loader.jsx","webpack://test_task/./src/components/pages/Tweets.module.css?b64c","components/pages/Tweets.jsx"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://6446441fee791e1e29fa64a9.mockapi.io/api/v1';\n\nexport const fetchUsersData = async page => {\n  const { data } = await axios.get(`/users?page=${page}&limit=3`);\n  return data;\n};\n\nexport async function updateFollowers(id, followers) {\n  const response = await axios.put(`users/${id}`, followers);\n  return response.data;\n}\n","export const saveToStorage = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error', error.message);\n  }\n};\n\nexport const loadFromStorage = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"cardContainer\":\"TweetsListItem_cardContainer__MlZWp\",\"cardAvatar\":\"TweetsListItem_cardAvatar__cPBz3\",\"tweetsListItem\":\"TweetsListItem_tweetsListItem__9B-zj\",\"cardTextTweets\":\"TweetsListItem_cardTextTweets__fUI3u\",\"cardTextFollowers\":\"TweetsListItem_cardTextFollowers__U3vlJ TweetsListItem_cardTextTweets__fUI3u\",\"followButton\":\"TweetsListItem_followButton__gN8Um\",\"followingButton\":\"TweetsListItem_followingButton__XCCob TweetsListItem_followButton__gN8Um\",\"cardPicture\":\"TweetsListItem_cardPicture__KvA3W\",\"logo\":\"TweetsListItem_logo__QG22Z\"};","import cardPicture from '../../images/cardPicture.png';\nimport logo from '../../images/logo.png';\nimport { loadFromStorage } from 'components/services/storage';\n\nimport style from './TweetsListItem.module.css';\n\nexport const TweetsListItem = ({\n  tweets,\n  avatar,\n  followers,\n  id,\n  handleFollowClick,\n}) => {\n  const isFollow = loadFromStorage(`tweet_${id}`) === true;\n\n  return (\n    <li className={style.tweetsListItem}>\n      <div className={style.cardContainer}>\n        <img src={logo} alt=\"logo\" className={style.logo} />\n        <img\n          src={cardPicture}\n          alt=\"card background\"\n          className={style.cardPicture}\n        />\n        <img src={avatar} alt=\"user name\" className={style.cardAvatar} />\n        <p className={style.cardTextTweets}>{tweets} tweets</p>\n        <p className={style.cardTextFollowers}>\n          {followers.toLocaleString('en-US')} followers\n        </p>\n        <button\n          type=\"button\"\n          onClick={() => handleFollowClick(id, isFollow)}\n          className={isFollow ? style.followingButton : style.followButton}\n        >\n          {isFollow ? 'FOLLOWING' : 'FOLLOW'}\n        </button>\n      </div>\n    </li>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"tweetsList\":\"TweetsList_tweetsList__CBQUG\"};","import { TweetsListItem } from 'components/TweetsListItem';\n\nimport style from './TweetsList.module.css';\n\nexport const TweetsList = ({ users, handleFollowClick }) => {\n  return (\n    <>\n      {\n        <ul className={style.tweetsList}>\n          {users.map(({ tweets, avatar, followers, id, user, isFollow }) => {\n            return (\n              <TweetsListItem\n                key={id}\n                tweets={tweets}\n                avatar={avatar}\n                followers={followers}\n                id={id}\n                handleFollowClick={handleFollowClick}\n              />\n            );\n          })}\n        </ul>\n      }\n    </>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"buttonLoadMore\":\"ButtonLoadMore_buttonLoadMore__IOwLn\"};","import style from './ButtonLoadMore.module.css';\n\nexport const ButtonLoadMore = ({ handleLoadMoreClick }) => {\n  return (\n    <button onClick={handleLoadMoreClick} className={style.buttonLoadMore}>\n      Load More\n    </button>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"loader\":\"Loader_loader__+lRPl\"};","import { Oval } from 'react-loader-spinner';\n\nimport styles from './Loader.module.css';\n\nexport const Loader = () => {\n  return (\n    <div className={styles.loader}>\n      <Oval\n        height={130}\n        width={130}\n        color=\"#000\"\n        wrapperStyle={{}}\n        wrapperClass=\"\"\n        visible={true}\n        ariaLabel=\"oval-loading\"\n        secondaryColor=\"#000\"\n        strokeWidth={2}\n        strokeWidthSecondary={2}\n      />\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Tweets_container__895Mq\",\"buttonGoHome\":\"Tweets_buttonGoHome__sL8YG\"};","import { useState, useEffect } from 'react';\n\nimport {\n  fetchUsersData,\n  updateFollowers,\n} from 'components/services/fetchUsersData';\nimport { saveToStorage } from 'components/services/storage';\nimport { TweetsList } from 'components/TweetsList';\nimport { ButtonLoadMore } from 'components/ButtonLoadMore/ButtonLoadMore';\nimport { Loader } from 'components/Loader';\n\nimport style from './Tweets.module.css';\nimport { Link } from 'react-router-dom';\n\nexport default function Tweets() {\n  const [users, setUsers] = useState([]);\n  const [page, setPage] = useState(1);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    setIsLoading(true);\n    const fetchUsers = async () => {\n      try {\n        const usersData = await fetchUsersData(page);\n        if (page > 1) {\n          return setUsers(prevstate => [...prevstate, ...usersData]);\n        }\n        setUsers(usersData);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchUsers();\n  }, [page]);\n\n  const handleLoadMoreClick = () => {\n    setPage(prevstate => prevstate + 1);\n  };\n\n  const handleFollowClick = (userId, isFollowing) => {\n    const updatedUsers = users.map(user => {\n      if (user.id === userId) {\n        const updatedUser = {\n          ...user,\n          followers: user.followers + (isFollowing ? -1 : 1),\n        };\n        updateFollowers(user.id, { followers: updatedUser.followers });\n        return updatedUser;\n      }\n      return user;\n    });\n    setUsers(updatedUsers);\n    saveToStorage(`tweet_${userId}`, isFollowing ? false : true);\n  };\n\n  return (\n    <div className={style.container}>\n      {!isLoading && (\n        <Link to=\"/\">\n          <button className={style.buttonGoHome}>Go Home</button>\n        </Link>\n      )}\n      <TweetsList users={users} handleFollowClick={handleFollowClick} />\n      {users.length < 12 && !isLoading && (\n        <ButtonLoadMore handleLoadMoreClick={handleLoadMoreClick} />\n      )}\n      {isLoading && <Loader />}\n      {error && <h2>{error}</h2>}\n    </div>\n  );\n}\n\n// const handleFollowClick = (userId, isFollowing) => {\n//     const updatedUsers = users.map(user => {\n//       if (user.id === userId) {\n//         const updatedUser = {\n//           ...user,\n//           followers: user.followers + (isFollowing ? -1 : 1),\n//         };\n//         updateFollowers(user.id, { followers: updatedUser.followers });\n//         return updatedUser;\n//       }\n//       return user;\n//     });\n//     setUsers(updatedUsers);\n//     saveToStorage(`tweet_${userId}`, isFollowing ? false : true);\n//   };\n"],"names":["axios","fetchUsersData","page","data","id","followers","response","TweetsListItem","tweets","avatar","handleFollowClick","isFollow","key","serializedState","localStorage","getItem","undefined","JSON","parse","error","console","message","loadFromStorage","className","style","src","alt","cardPicture","toLocaleString","type","onClick","TweetsList","users","map","user","ButtonLoadMore","handleLoadMoreClick","Loader","styles","height","width","color","wrapperStyle","wrapperClass","visible","ariaLabel","secondaryColor","strokeWidth","strokeWidthSecondary","Tweets","useState","setUsers","setPage","isLoading","setIsLoading","setError","useEffect","fetchUsers","usersData","prevstate","to","userId","isFollowing","updatedUsers","updatedUser","updateFollowers","value","stringify","setItem","saveToStorage","length"],"sourceRoot":""}