"use strict";(self.webpackChunktest_task=self.webpackChunktest_task||[]).push([[980],{986:function(e,t,r){r.r(t),r.d(t,{default:function(){return y}});var s=r(683),n=r(433),a=r(861),o=r(439),c=r(757),i=r.n(c),l=r(791),u=r(243);u.Z.defaults.baseURL="https://6446441fee791e1e29fa64a9.mockapi.io/api/v1";var f=function(){var e=(0,a.Z)(i().mark((function e(t){var r,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get("/users?page=".concat(t,"&limit=3"));case 2:return r=e.sent,s=r.data,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function d(){return(d=(0,a.Z)(i().mark((function e(t,r){var s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.put("users/".concat(t),r);case 2:return s=e.sent,e.abrupt("return",s.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=r.p+"static/media/cardPicture.010ab3c33bc13f300d33.png",A="TweetsListItem_cardContainer__MlZWp",m="TweetsListItem_cardAvatar__cPBz3",p="TweetsListItem_tweetsListItem__9B-zj",h="TweetsListItem_cardTextTweets__fUI3u",_="TweetsListItem_cardTextFollowers__U3vlJ TweetsListItem_cardTextTweets__fUI3u",v="TweetsListItem_followButton__gN8Um",x="TweetsListItem_followingButton__XCCob TweetsListItem_followButton__gN8Um",k="TweetsListItem_cardPicture__KvA3W",g="TweetsListItem_logo__QG22Z",L=r(184),j=function(e){var t=e.tweets,r=e.avatar,s=e.followers,n=e.id,a=e.handleFollowClick,o=!0===function(e){try{var t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(r){console.error("Get state error: ",r.message)}}("tweet_".concat(n));return(0,L.jsx)("li",{className:p,children:(0,L.jsxs)("div",{className:A,children:[(0,L.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAAAWCAYAAABqgnq6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKGSURBVHgB1VixThtBEJ2L4sJICVJIQREKUpDiGkdK4xRpqPPHSZPCFCmSAgosAcVRuMANBS7OknnvbhaNlzvvnsF4edLIe765vd2nmTezly0Wi5+yfdzB/mRZVrY5YJ1f8fNJtow3kgZ2YAN5BUiFMGIfUfRFEkdKhBFHIG1fEkZqhBEDkLYjiSJFwnqwIUjrSYJ4G+k3h13AprAZrC+1UB/A9hr8b2GF+pfqf6AWA1cE/sp6mMDOdHwI+6zjE6krchu4zu8r7kcRRoJGKPn2RRyTjAKRcIRfK9Zj+J57c1T+8B3rgvoSRlUEGuaKwdytF3PM7Tq8fSwBvhJCKCWXyGKawHY9jdk148JuUP0ffHWekdQRGwMWgdiojAHX/lHtIeXdf9KcLUsIRdiNIYsb/yG1xvD6Uup0s1VtbBbBNMh1zDlOOBcN10zv2BYih/9UngffzPg3rNR9DSUSoQi7NmNqCskiKf+l1qmZjhkxtx65uXnWb0y7EFAVAYnX240itAib7053piDmxjqpjpUNvtLy30y6IRON7G0jFGFWq9wm+4yghrL/3owZfb5OWZJiRN+B84ykO8kbQYgwK4JMPS6aqXUsjwWyp8Ipeog+Nfdc6jp0EfLTVZXtpRFKyUOQUDixxvUv1aey5csCU7NKV9xny8F+qGc3rM/HHn/YohSSEEIR5rrupdbAkqUHZnd/D9cDl670ayBrKHF6NFmzB9soYioPN3nMSJO6g57rc0xJppa/+ar7h/+V1FomAf8m+CncFR/0+xnxrsUn16a2U/Xt4tz1aJPLeqhEftXHxMj3hw7wa30VSfHw/S8lkfeRGmEU+YkkjJQIS1LkfaRC2FNF/sVwDzHOB2t0D1rCAAAAAElFTkSuQmCC",alt:"logo",className:g}),(0,L.jsx)("img",{src:w,alt:"card background",className:k}),(0,L.jsx)("img",{src:r,alt:"user name",className:m}),(0,L.jsxs)("p",{className:h,children:[t," tweets"]}),(0,L.jsxs)("p",{className:_,children:[s.toLocaleString("en-US")," followers"]}),(0,L.jsx)("button",{type:"button",onClick:function(){return a(n,o)},className:o?x:v,children:o?"FOLLOWING":"FOLLOW"})]})})},N="TweetsList_tweetsList__CBQUG",I=function(e){var t=e.users,r=e.handleFollowClick;return(0,L.jsx)(L.Fragment,{children:(0,L.jsx)("ul",{className:N,children:t.map((function(e){var t=e.tweets,s=e.avatar,n=e.followers,a=e.id;e.user,e.isFollow;return(0,L.jsx)(j,{tweets:t,avatar:s,followers:n,id:a,handleFollowClick:r},a)}))})})},U="ButtonLoadMore_buttonLoadMore__IOwLn",S=function(e){var t=e.handleLoadMoreClick;return(0,L.jsx)("button",{onClick:t,className:U,children:"Load More"})},C=r(643),b="Loader_loader__+lRPl",B=function(){return(0,L.jsx)("div",{className:b,children:(0,L.jsx)(C.iT,{height:130,width:130,color:"#000",wrapperStyle:{},wrapperClass:"",visible:!0,ariaLabel:"oval-loading",secondaryColor:"#000",strokeWidth:2,strokeWidthSecondary:2})})},F="Tweets_container__895Mq",R="Tweets_buttonGoHome__sL8YG",T=r(87);function y(){var e=(0,l.useState)([]),t=(0,o.Z)(e,2),r=t[0],c=t[1],u=(0,l.useState)(1),w=(0,o.Z)(u,2),A=w[0],m=w[1],p=(0,l.useState)(!1),h=(0,o.Z)(p,2),_=h[0],v=h[1],x=(0,l.useState)(null),k=(0,o.Z)(x,2),g=k[0],j=k[1];(0,l.useEffect)((function(){v(!0);var e=function(){var e=(0,a.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f(A);case 3:if(t=e.sent,!(A>1)){e.next=6;break}return e.abrupt("return",c((function(e){return[].concat((0,n.Z)(e),(0,n.Z)(t))})));case 6:c(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),j(e.t0.message);case 12:return e.prev=12,v(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}();e()}),[A]);return(0,L.jsxs)("div",{className:F,children:[!_&&(0,L.jsx)(T.rU,{to:"/",children:(0,L.jsx)("button",{className:R,children:"Go Home"})}),(0,L.jsx)(I,{users:r,handleFollowClick:function(e,t){var n=r.map((function(r){if(r.id===e){var n=(0,s.Z)((0,s.Z)({},r),{},{followers:r.followers+(t?-1:1)});return function(e,t){d.apply(this,arguments)}(r.id,{followers:n.followers}),n}return r}));c(n),function(e,t){try{var r=JSON.stringify(t);localStorage.setItem(e,r)}catch(g){console.error("Set state error",g.message)}}("tweet_".concat(e),!t)}}),r.length<12&&!_&&(0,L.jsx)(S,{handleLoadMoreClick:function(){m((function(e){return e+1}))}}),_&&(0,L.jsx)(B,{}),g&&(0,L.jsx)("h2",{children:g})]})}}}]);
//# sourceMappingURL=980.fbdd9b92.chunk.js.map